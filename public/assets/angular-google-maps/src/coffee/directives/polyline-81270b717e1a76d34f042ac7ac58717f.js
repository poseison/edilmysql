(function(){angular.module("google-maps").directive("polyline",["$log","$timeout","array-sync",function(e,t,n){var r,a,i,o,l;return l=function(e){var t;for(t=0;t<e.length;){if(angular.isUndefined(e[t].latitude)||angular.isUndefined(e[t].longitude))return!1;t++}return!0},a=function(e){var t,n;for(n=new google.maps.MVCArray,t=0;t<e.length;)n.push(new google.maps.LatLng(e[t].latitude,e[t].longitude)),t++;return n},i=function(e,t){var n,r;for(n=new google.maps.LatLngBounds,r=0;r<t.length;)n.extend(t.getAt(r)),r++;return e.fitBounds(n)},o=function(e){return angular.isDefined(e)&&null!==e&&e===!0||"1"===e||"y"===e||"true"===e},r={},{restrict:"ECA",replace:!0,require:"^googleMap",scope:{path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"="},link:function(u,s,g,c){return angular.isUndefined(u.path)||null===u.path||u.path.length<2||!l(u.path)?void e.error("polyline: no valid path attribute found"):t(function(){var e,t,l,s;return t=function(e){var t;return t=angular.extend({},r,{map:l,path:e,strokeColor:u.stroke&&u.stroke.color,strokeOpacity:u.stroke&&u.stroke.opacity,strokeWeight:u.stroke&&u.stroke.weight}),angular.forEach({clickable:!0,draggable:!1,editable:!1,geodesic:!1,visible:!0},function(e,n){return t[n]=angular.isUndefined(u[n])||null===u[n]?e:u[n]}),t},l=c.getMap(),s=new google.maps.Polyline(t(a(u.path))),o(g.fit)&&i(l,pathPoints),angular.isDefined(u.editable)&&u.$watch("editable",function(e){return s.setEditable(e)}),angular.isDefined(u.draggable)&&u.$watch("draggable",function(e){return s.setDraggable(e)}),angular.isDefined(u.visible)&&u.$watch("visible",function(e){return s.setVisible(e)}),angular.isDefined(u.geodesic)&&u.$watch("geodesic",function(){return s.setOptions(t(s.getPath()))}),angular.isDefined(u.stroke)&&angular.isDefined(u.stroke.weight)&&u.$watch("stroke.weight",function(){return s.setOptions(t(s.getPath()))}),angular.isDefined(u.stroke)&&angular.isDefined(u.stroke.color)&&u.$watch("stroke.color",function(){return s.setOptions(t(s.getPath()))}),e=n(s.getPath(),u,"path"),u.$on("$destroy",function(){return s.setMap(null),e?(e(),e=null):void 0})})}}}])}).call(this);