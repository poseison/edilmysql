(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,o=function(t,o){function s(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return s.prototype=o.prototype,t.prototype=new s,t.__super__=o.prototype,t};this.ngGmapModule("directives.api.models.parent",function(){return this.MarkerParentModel=function(e){function s(e,o,r,n,i){this.onDestroy=t(this.onDestroy,this),this.onWatch=t(this.onWatch,this),this.onTimeOut=t(this.onTimeOut,this);var a;s.__super__.constructor.call(this,e,o,r,n,i),a=this}return o(s,e),s.include(directives.api.utils.GmapUtil),s.prototype.onTimeOut=function(t){var e;return e=this.createMarkerOptions(t.coords,t.icon,t.options,this.mapCtrl.getMap()),this.scope.gMarker=new google.maps.Marker(e),google.maps.event.addListener(this.scope.gMarker,"click",function(e){return function(){return e.doClick&&null!=t.click?e.$timeout(function(){return e.scope.click()}):void 0}}(this)),this.setEvents(this.scope.gMarker,t),this.$log.info(this)},s.prototype.onWatch=function(t,e){switch(t){case"coords":return null!=e.coords&&null!=this.scope.gMarker?(this.scope.gMarker.setMap(this.mapCtrl.getMap()),this.scope.gMarker.setPosition(new google.maps.LatLng(e.coords.latitude,e.coords.longitude)),this.scope.gMarker.setVisible(null!=e.coords.latitude&&null!=e.coords.longitude),this.scope.gMarker.setOptions(e.options)):this.scope.gMarker.setMap(null);case"icon":if(null!=e.icon&&null!=e.coords&&null!=this.scope.gMarker)return this.scope.gMarker.setOptions(e.options),this.scope.gMarker.setIcon(e.icon),this.scope.gMarker.setMap(null),this.scope.gMarker.setMap(this.mapCtrl.getMap()),this.scope.gMarker.setPosition(new google.maps.LatLng(e.coords.latitude,e.coords.longitude)),this.scope.gMarker.setVisible(e.coords.latitude&&null!=e.coords.longitude);break;case"options":if(null!=e.coords&&null!=e.icon&&e.options)return null!=this.scope.gMarker&&this.scope.gMarker.setMap(null),delete this.scope.gMarker,this.scope.gMarker=new google.maps.Marker(this.createMarkerOptions(e.coords,e.icon,e.options,this.mapCtrl.getMap()))}},s.prototype.onDestroy=function(){var t;return void 0===this.scope.gMarker?void(t=void 0):(this.scope.gMarker.setMap(null),delete this.scope.gMarker,t=void 0)},s.prototype.setEvents=function(t,e){return angular.isDefined(e.events)&&null!=e.events&&angular.isObject(e.events)?_.compact(_.each(e.events,function(o,s){return e.events.hasOwnProperty(s)&&angular.isFunction(e.events[s])?google.maps.event.addListener(t,s,function(){return o.apply(e,[t,s,arguments])}):void 0})):void 0},s}(directives.api.models.parent.IMarkerParentModel)})}).call(this);