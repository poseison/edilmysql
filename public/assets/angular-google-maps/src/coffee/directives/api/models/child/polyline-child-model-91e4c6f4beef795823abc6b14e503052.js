(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};angular.module("google-maps.directives.api").factory("PolylineChildModel",["BaseObject","Logger","$timeout","array-sync","GmapUtil","EventsHelper",function(e,i,o,s,r,l){var u;return u=function(e){function o(e,n,o,r,l){this.scope=e,this.attrs=n,this.map=o,this.defaults=r,this.model=l,this.clean=t(this.clean,this),this.buildOpts=t(this.buildOpts,this),e.$watch("path",function(t){return function(n,i){var r;return _.isEqual(n,i)&&t.polyline||(r=t.convertPathPoints(e.path),r.length>0&&(t.polyline=new google.maps.Polyline(t.buildOpts(r))),!t.polyline)?void 0:(e.fit&&t.extendMapBounds(o,r),s(t.polyline.getPath(),e,"path",function(n){return e.fit?t.extendMapBounds(o,n):void 0}),t.listeners=t.model?t.setEvents(t.polyline,e,t.model):t.setEvents(t.polyline,e,e))}}(this)),!e["static"]&&angular.isDefined(e.editable)&&e.$watch("editable",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.polyline)?i.setEditable(e):void 0}}(this)),angular.isDefined(e.draggable)&&e.$watch("draggable",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.polyline)?i.setDraggable(e):void 0}}(this)),angular.isDefined(e.visible)&&e.$watch("visible",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.polyline)?i.setVisible(e):void 0}}(this)),angular.isDefined(e.geodesic)&&e.$watch("geodesic",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.polyline)?i.setOptions(t.buildOpts(t.polyline.getPath())):void 0}}(this)),angular.isDefined(e.stroke)&&angular.isDefined(e.stroke.weight)&&e.$watch("stroke.weight",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.polyline)?i.setOptions(t.buildOpts(t.polyline.getPath())):void 0}}(this)),angular.isDefined(e.stroke)&&angular.isDefined(e.stroke.color)&&e.$watch("stroke.color",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.polyline)?i.setOptions(t.buildOpts(t.polyline.getPath())):void 0}}(this)),angular.isDefined(e.stroke)&&angular.isDefined(e.stroke.opacity)&&e.$watch("stroke.opacity",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.polyline)?i.setOptions(t.buildOpts(t.polyline.getPath())):void 0}}(this)),angular.isDefined(e.icons)&&e.$watch("icons",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.polyline)?i.setOptions(t.buildOpts(t.polyline.getPath())):void 0}}(this)),e.$on("$destroy",function(t){return function(){return t.clean(),t.scope=null}}(this)),i.info(this)}return n(o,e),o.include(r),o.include(l),o.prototype.buildOpts=function(t){var e;return e=angular.extend({},this.defaults,{map:this.map,path:t,icons:this.scope.icons,strokeColor:this.scope.stroke&&this.scope.stroke.color,strokeOpacity:this.scope.stroke&&this.scope.stroke.opacity,strokeWeight:this.scope.stroke&&this.scope.stroke.weight}),angular.forEach({clickable:!0,draggable:!1,editable:!1,geodesic:!1,visible:!0,"static":!1,fit:!1},function(t){return function(n,i){return e[i]=angular.isUndefined(t.scope[i])||null===t.scope[i]?n:t.scope[i]}}(this)),e["static"]&&(e.editable=!1),e},o.prototype.clean=function(){var t;return this.removeEvents(this.listeners),this.polyline.setMap(null),this.polyline=null,t?(t(),t=null):void 0},o.prototype.destroy=function(){return this.scope.$destroy()},o}(e)}])}).call(this);