(function(){angular.module("google-maps").directive("circle",["$log","$timeout","GmapUtil","EventsHelper",function(e,t,n,r){"use strict";var i;return i={},{restrict:"EA",replace:!0,require:"^googleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"="},link:function(o,c,l,a){return a.getScope().deferred.promise.then(function(){return function(c){var l,a;return l=function(){var t;return n.validateCoords(o.center)?(t=angular.extend({},i,{map:c,center:n.getCoords(o.center),radius:o.radius,strokeColor:o.stroke&&o.stroke.color,strokeOpacity:o.stroke&&o.stroke.opacity,strokeWeight:o.stroke&&o.stroke.weight,fillColor:o.fill&&o.fill.color,fillOpacity:o.fill&&o.fill.opacity}),angular.forEach({clickable:!0,draggable:!1,editable:!1,geodesic:!1,visible:!0},function(e,n){return t[n]=angular.isUndefined(o[n])||null===o[n]?e:o[n]}),t):void e.error("circle: no valid center attribute found")},a=new google.maps.Circle(l()),o.$watchCollection("center",function(e,t){return e!==t?a.setOptions(l()):void 0}),o.$watchCollection("stroke",function(e,t){return e!==t?a.setOptions(l()):void 0}),o.$watchCollection("fill",function(e,t){return e!==t?a.setOptions(l()):void 0}),o.$watch("radius",function(e,t){return e!==t?a.setOptions(l()):void 0}),o.$watch("clickable",function(e,t){return e!==t?a.setOptions(l()):void 0}),o.$watch("editable",function(e,t){return e!==t?a.setOptions(l()):void 0}),o.$watch("draggable",function(e,t){return e!==t?a.setOptions(l()):void 0}),o.$watch("visible",function(e,t){return e!==t?a.setOptions(l()):void 0}),o.$watch("geodesic",function(e,t){return e!==t?a.setOptions(l()):void 0}),r.setEvents(a,o,o),google.maps.event.addListener(a,"radius_changed",function(){return o.radius=a.getRadius(),t(function(){return o.$apply()})}),google.maps.event.addListener(a,"center_changed",function(){return angular.isDefined(o.center.type)?(o.center.coordinates[1]=a.getCenter().lat(),o.center.coordinates[0]=a.getCenter().lng()):(o.center.latitude=a.getCenter().lat(),o.center.longitude=a.getCenter().lng()),t(function(){return o.$apply()})}),o.$on("$destroy",function(){return a.setMap(null)})}}(this))}}}])}).call(this);