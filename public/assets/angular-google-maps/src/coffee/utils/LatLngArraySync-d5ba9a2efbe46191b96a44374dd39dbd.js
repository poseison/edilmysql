(function(){angular.module("google-maps").factory("array-sync",["add-events",function(t){var n;return n=function(n,e,l){var a,o,i,u;return a=!1,i=e.$eval(l),o=t(n,{set_at:function(t){var e;if(!a&&(e=n.getAt(t),e&&e.lng&&e.lat))return i[t].latitude=e.lat(),i[t].longitude=e.lng()},insert_at:function(t){var e;if(!a&&(e=n.getAt(t),e&&e.lng&&e.lat))return i.splice(t,0,{latitude:e.lat(),longitude:e.lng()})},remove_at:function(t){return a?void 0:i.splice(t,1)}}),u=e.$watchCollection(l,function(t){var e,l,o,i,u,r,g;if(a=!0,u=n,t){for(e=0,r=u.getLength(),o=t.length,l=Math.min(r,o),i=void 0;l>e;)g=u.getAt(e),i=t[e],(g.lat()!==i.latitude||g.lng()!==i.longitude)&&u.setAt(e,new google.maps.LatLng(i.latitude,i.longitude)),e++;for(;o>e;)i=t[e],u.push(new google.maps.LatLng(i.latitude,i.longitude)),e++;for(;r>e;)u.pop(),e++}return a=!1}),function(){return o&&(o(),o=null),u?(u(),u=null):void 0}}}])}).call(this);