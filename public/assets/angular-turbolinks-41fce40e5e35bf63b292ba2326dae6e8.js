(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};angular.module("ngTurbolinks",[]).run(function(e,n,r,o,u){var i,a,c,l,d,p,f,s,h,m,g,v,y,b,x,w,A,T,E,S,k,M,L,C,H;return x=null,s=null,C=null,T=null,M=function(t,e){var n;return n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},w=function(t){var e,n;return e=(null!=(n=document.cookie.match(new RegExp(t+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e},E=function(){return T=document.location.href},A=function(e,n,r){var o,u,i,a,c,l;return u=function(){return n>=400&&600>n},l=function(){return r()["content-type"].match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},a=function(t){var e,n,r,o,u;for(o=t.head.childNodes,u=[],n=0,r=o.length;r>n;n++)e=o[n],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&u.push(e.getAttribute("src")||e.getAttribute("href"));return u},o=function(t){var e;return x||(x=a(document)),e=a(t),e.length!==x.length||c(e,x).length!==x.length},c=function(e,n){var r,o,u,i,a;for(e.length>n.length&&(i=[n,e],e=i[0],n=i[1]),a=[],o=0,u=e.length;u>o;o++)r=e[o],t.call(n,r)>=0&&a.push(r);return a},!u()&&l()&&(i=s(e),i&&!o(i))?i:void 0},a=function(){var t,e,n,r,o,u;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return o=e("<html><body><p>test"),e}catch(i){return r=i,o=t("<html><body><p>test"),t}finally{if(1!==(null!=o&&null!=(u=o.body)?u.childNodes.length:void 0))return n}},m=function(t){var e;return e=t.querySelector("title"),[null!=e?e.textContent:void 0,S(t.body),i.get(t).token,"runScripts"]},i={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},f=function(t,e,r,o){var a;return document.title=t,angular.element("body").replaceWith(e),u(e)(n),null!=r&&i.update(r),o&&h(),a=window.history.state,M("page:change"),M("page:update")},h=function(){var t,e,n,r,o,u,i,a,c,l,d,p;for(u=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),i=0,c=u.length;c>i;i++)if(o=u[i],""===(d=o.type)||"text/javascript"===d){for(e=document.createElement("script"),p=o.attributes,a=0,l=p.length;l>a;a++)t=p[a],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(o.innerHTML)),r=o.parentNode,n=o.nextSibling,r.removeChild(o),r.insertBefore(e,n)}},S=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},g=function(t){return E(),C&&C.resolve(),C=o.defer(),M("page:fetch",{url:t}),r({url:t,method:"GET",headers:{Accept:"text/html, application/xhtml+xml, application/xml","X-XHR-Referer":T},timeout:C.promise}).success(function(e,n,r){var o;return M("page:receive"),(o=A(e,n,r))?(f.apply(null,m(o)),M("page:load")):document.location.href=t}).error(function(){return document.location.href=t})},v=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),d=window.history&&window.history.pushState&&window.history.replaceState&&v,c=!navigator.userAgent.match(/CriOS\//),k="GET"===(H=w("request_method"))||""===H,p=d&&c&&k,l=document.addEventListener&&document.createEvent,y=function(){return document.addEventListener("DOMContentLoaded",function(){return M("page:change"),M("page:update")},!0)},b=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?M("page:update"):void 0}):void 0},l&&(y(),b()),p?(L=g,s=a()):L=function(t){return document.location.href=t},n.$on("$locationChangeStart",function(t,e,n){return e!==n&&M("page:before-change")?L(e):(t.preventDefault(),!1)})})}).call(this);